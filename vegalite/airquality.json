{
   "$schema":"https://vega.github.io/schema/vega-lite/v4.json",
   "vconcat":[
      {
         "layer":[
            {
               "title":{
                  "text":"Melbourne Air Quality (SO2)",
                  "fontSize":50,
                  "align":"center",
                  "dy":-15
               },
               "width":{
                  "step":40
               },
               "height":{
                  "step":40
               },
               "data":{
                  "url":"https://raw.githubusercontent.com/crcorbett/FIT3179/master/data/airquality_epa.json",
                  "format":{
                     "parse":{
                        "Date":"utc:'%Y-%m-%d'"
                     }
                  }
               },
               "transform":[
                  {
                     "filter":{
                        "field":"Date",
                        "timeUnit":"month",
                        "oneOf":[
                           4,
                           5,
                           6
                        ]
                     }
                  }
               ],
               "mark":{
                  "type":"rect",
                  "size":100
               },
               "encoding":{
                  "x":{
                     "field":"Date",
                     "timeUnit":"date",
                     "type":"ordinal"
                  },
                  "y":{
                     "field":"Date",
                     "timeUnit":"yearmonth",
                     "type":"ordinal",
                     "sort":[
                        {
                           "year":2019,
                           "month":4
                        },
                        {
                           "year":2020,
                           "month":4
                        },
                        {
                           "year":2019,
                           "month":5
                        },
                        {
                           "year":2020,
                           "month":5
                        },
                        {
                           "year":2019,
                           "month":6
                        },
                        {
                           "year":2020,
                           "month":6
                        }
                     ],
                     "axis":{
                        "grid":true,
                        "tickBand":"extent",
                        "gridColor":"grey"
                     }
                  },
                  "color":{
                     "field":"normalise",
                     "type":"quantitative",
                     "scale":{
                        "scheme":"reds",
                        "domainMid":0.2
                     }
                  },
                  "opacity":{
                     "value":0.8
                  },
                  "stroke":{
                     "value":"white"
                  },
                  "strokeOpacity":{
                     "value":1
                  },
                  "strokeWidth":{
                     "value":4
                  }
               }
            },
            {
               "data":{
                  "url":"https://raw.githubusercontent.com/crcorbett/FIT3179/master/data/airquality_epa.json",
                  "format":{
                     "parse":{
                        "Date":"utc:'%Y-%m-%d'"
                     }
                  }
               },
               "transform":[
                  {
                     "filter":{
                        "field":"Date",
                        "timeUnit":"month",
                        "oneOf":[
                           4,
                           5,
                           6
                        ]
                     }
                  }
               ],
               "mark":{
                  "type":"text",
                  "color":"black"
               },
               "encoding":{
                  "x":{
                     "field":"Date",
                     "timeUnit":"date",
                     "type":"ordinal"
                  },
                  "y":{
                     "field":"Date",
                     "timeUnit":"yearmonth",
                     "type":"ordinal",
                     "sort":[
                        {
                           "year":2019,
                           "month":4
                        },
                        {
                           "year":2020,
                           "month":4
                        },
                        {
                           "year":2019,
                           "month":5
                        },
                        {
                           "year":2020,
                           "month":5
                        },
                        {
                           "year":2019,
                           "month":6
                        },
                        {
                           "year":2020,
                           "month":6
                        }
                     ]
                  },
                  "text":{
                     "field":"median"
                  }
               }
            }
         ]
      },
      {
         "layer":[
            {
               "width":{
                  "step":40
               },
               "height":{
                  "step":40
               },
               "data":{
                  "url":"https://raw.githubusercontent.com/crcorbett/FIT3179/master/data/airquality_epa.json",
                  "format":{
                     "parse":{
                        "Date":"utc:'%Y-%m-%d'"
                     }
                  }
               },
               "transform":[
                  {
                     "filter":{
                        "field":"Date",
                        "timeUnit":"month",
                        "oneOf":[
                           5
                        ]
                     }
                  }
               ],
               "mark":{
                  "type":"rect",
                  "size":100
               },
               "encoding":{
                  "x":{
                     "field":"Date",
                     "timeUnit":"date",
                     "type":"ordinal"
                  },
                  "y":{
                     "field":"Date",
                     "timeUnit":"yearmonth",
                     "type":"ordinal",
                     "sort":[
                        {
                           "year":2019,
                           "month":5
                        },
                        {
                           "year":2020,
                           "month":5
                        }
                     ],
                     "axis":{
                        "grid":true,
                        "tickBand":"extent",
                        "gridColor":"grey"
                     }
                  },
                  "color":{
                     "field":"normalise",
                     "type":"quantitative",
                     "scale":{
                        "scheme":"reds",
                        "domainMid":0.2
                     }
                  },
                  "opacity":{
                     "value":0.8
                  },
                  "stroke":{
                     "value":"white"
                  },
                  "strokeOpacity":{
                     "value":1
                  },
                  "strokeWidth":{
                     "value":4
                  },
                  "text":{
                     "value":"test"
                  }
               }
            },
            {
               "data":{
                  "url":"https://raw.githubusercontent.com/crcorbett/FIT3179/master/data/airquality_epa.json",
                  "format":{
                     "parse":{
                        "Date":"utc:'%Y-%m-%d'"
                     }
                  }
               },
               "transform":[
                  {
                     "filter":{
                        "field":"Date",
                        "timeUnit":"month",
                        "oneOf":[
                           5
                        ]
                     }
                  }
               ],
               "mark":{
                  "type":"text",
                  "color":"black"
               },
               "encoding":{
                  "x":{
                     "field":"Date",
                     "timeUnit":"date",
                     "type":"ordinal"
                  },
                  "y":{
                     "field":"Date",
                     "timeUnit":"yearmonth",
                     "type":"ordinal",
                     "sort":[
                        {
                           "year":2019,
                           "month":4
                        },
                        {
                           "year":2020,
                           "month":4
                        },
                        {
                           "year":2019,
                           "month":5
                        },
                        {
                           "year":2020,
                           "month":5
                        },
                        {
                           "year":2019,
                           "month":6
                        },
                        {
                           "year":2020,
                           "month":6
                        }
                     ]
                  },
                  "text":{
                     "field":"median"
                  }
               }
            }
         ]
      },
      {
         "layer":[
            {
               "width":{
                  "step":40
               },
               "height":{
                  "step":40
               },
               "data":{
                  "url":"https://raw.githubusercontent.com/crcorbett/FIT3179/master/data/airquality_epa.json",
                  "format":{
                     "parse":{
                        "Date":"utc:'%Y-%m-%d'"
                     }
                  }
               },
               "transform":[
                  {
                     "filter":{
                        "field":"Date",
                        "timeUnit":"month",
                        "oneOf":[
                           4
                        ]
                     }
                  }
               ],
               "mark":{
                  "type":"rect",
                  "size":100
               },
               "encoding":{
                  "x":{
                     "field":"Date",
                     "timeUnit":"date",
                     "type":"ordinal"
                  },
                  "y":{
                     "field":"Date",
                     "timeUnit":"yearmonth",
                     "type":"ordinal",
                     "sort":[
                        {
                           "year":2019,
                           "month":4
                        },
                        {
                           "year":2020,
                           "month":4
                        }
                     ],
                     "axis":{
                        "grid":true,
                        "tickBand":"extent",
                        "gridColor":"grey"
                     }
                  },
                  "color":{
                     "field":"normalise",
                     "type":"quantitative",
                     "scale":{
                        "scheme":"reds",
                        "domainMid":0.2
                     }
                  },
                  "opacity":{
                     "value":0.8
                  },
                  "stroke":{
                     "value":"white"
                  },
                  "strokeOpacity":{
                     "value":1
                  },
                  "strokeWidth":{
                     "value":4
                  },
                  "text":{
                     "value":"test"
                  }
               }
            },
            {
               "data":{
                  "url":"https://raw.githubusercontent.com/crcorbett/FIT3179/master/data/airquality_epa.json",
                  "format":{
                     "parse":{
                        "Date":"utc:'%Y-%m-%d'"
                     }
                  }
               },
               "transform":[
                  {
                     "filter":{
                        "field":"Date",
                        "timeUnit":"month",
                        "oneOf":[
                           4
                        ]
                     }
                  }
               ],
               "mark":{
                  "type":"text",
                  "color":"black"
               },
               "encoding":{
                  "x":{
                     "field":"Date",
                     "timeUnit":"date",
                     "type":"ordinal"
                  },
                  "y":{
                     "field":"Date",
                     "timeUnit":"yearmonth",
                     "type":"ordinal",
                     "sort":[
                        {
                           "year":2019,
                           "month":4
                        },
                        {
                           "year":2020,
                           "month":4
                        }
                     ]
                  },
                  "text":{
                     "field":"median"
                  }
               }
            }
         ]
      }
   ]
}