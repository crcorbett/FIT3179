{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "width":600,
  "height":400,
  "title":{"text":"Melbourne Air Quality (SO2)", "fontSize":50, "align": "center", "dy":-15},
  "data": {
    "url": "https://raw.githubusercontent.com/crcorbett/FIT3179/master/data/airquality_epa.json",
    "format": {
      "parse": {"Date": "utc:'%Y-%m-%d'"}
    }
  },
  
  "layer":[
    {
      "transform": [
        {"filter":{"field":"Date", "timeUnit":"month", "oneOf":[4,5,6]}}
      ],
      "mark":"rect",
      "encoding": {
        "x":{"field":"Date", "timeUnit":"date", "type": "ordinal"},
        "y":{"field":"Date","timeUnit":"yearmonth", "type": "ordinal", "sort":[{"year": 2019, "month":4},{"year": 2020, "month":4},{"year": 2019, "month":5},{"year": 2020, "month":5},{"year": 2019, "month":6},{"year": 2020, "month":6}]},
        "color":{"field":"normalise", "type": "quantitative", "scale":{"scheme":"reds"}},
        "opacity":{"value":0.8},
        "stroke":{"value":"white"},
        "strokeOpacity":{"value":1},
        "strokeWidth":{"value":5}
      }      
    }

  ],
  "config": {
    "axis": {"grid": true, "tickBand": "extent"}
  }
}